---
layout: post
title: 'Haxe and OCaml united: followup!'
date: 2012-06-13 11:52:51.000000000 +02:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Blog Silex Labs
- Silex Labs Events
- The Blog
tags: []
meta:
  _epLastError: ''
  _epLastMessage: ''
  _edit_last: '11'
  _itemCurrentVersion: ''
  _thumbnail_id: '133301'
  layout: "- Select -"
  layout_header: "- Select -"
  layout_footer: "- Select -"
  skin: "- Select -"
  wpautop: "- Select -"
author:
  login: lexa
  email: lexoyo@yahoo.com
  display_name: lexa
  first_name: lexa
  last_name: ''
permalink: "/haxe-and-ocaml-united-followup/"
---
<p style="text-align: left;"><img class="alignleft" title="Haxe and OCaml by Pol ;)" src="{{ site.baseurl }}/assets/ocaml-haxe-021.jpg" alt="Haxe and OCaml by Pol ;)" width="150" height="150" /></p>
<p style="text-align: left;">One month ago, on May 3 2012 <a href="https://www.silexlabs.org/132591/the-blog/haxe-and-ocaml-united/">Alex Hoyau from Silex Labs, presented Haxe, Cocktail and NME</a> to a public composed of <a href="http://www.inria.fr/en/">INRIA</a> researchers, academics and members of the <a href="http://www.irill.org/">IRILL</a> non profit organization. He was backed up by a bunch of Silex Labs regulars, which was very appreciated because the OCamlers did have a bunch of tricky questions for the president...</p>
<p style="text-align: left;">We have discovered a much alive community, new projects and great people.<br />
Several new ideas came up, as a proof that mixing is good, and that there is a will to collaborate to make something big together!</p>
<p><strong>Read this article to know what you can do to help Silex Labs make the bridge between the OCaml and the Haxe communities. Leave comments to support this action. <a title="Haxe / OCaml mix working group" href="https://www.silexlabs.org/groups/labs/haxe-community-meetings/haxe-ocaml-mix/">Join the working group "Haxe/OCaml Mix"</a>. </strong></p>
<p>After this contact  we initiated a relationship with old timers of the <a href="http://caml.inria.fr/">Caml</a> language - a must read "<a href="http://www.pps.jussieu.fr/~cousinea/Caml/caml_history.html">A brief history of Caml</a>" and we continues to explore a new world for you ...</p>
<p style="text-align: center;"><a href="https://twitter.com/silexlabs/status/198049310972194816/photo/1"><br />
</a></p>
<h1 dir="ltr"><!--more-->A short presentation of Haxe</h1>
<p style="text-align: left;"><a href="https://twitter.com/silexlabs/status/198049310972194816/photo/1"><img class="alignleft" title="Conference by Silex Labs: OCaml and Haxe united" src="{{ site.baseurl }}/assets/Ar-czIzCMAENtcV.jpg:large" alt="Conference by Silex Labs: OCaml and Haxe united" width="309" height="231" /></a>This presentation was a clash of cultures, where the mountains meet, an experimental mix of complementary visions! Shortly after the start of the presentation it took an unexpected path, since most of the questions which were asked in the first ten minutes showed that people in the room had already understood what Haxe does, and how it works. And the questions about language theory began to fall like rain... Without any answers from the Haxers in the room. So we agreed that this is only a short introduction, that we would meet online to answer these very specific questions.</p>
<p>“Please consider that the approach of many APIs with the same syntax seems trivial to us. What would be interesting is to talk about the choices made in the compiler to implement the different programming concepts in the target languages.” - <a href="http://www-apr.lip6.fr/~chaillou/">Emmanuel</a>, professor at the University of Paris VI.</p>
<p><img class="alignleft" title="7362437384_e11ca39737_b" src="{{ site.baseurl }}/assets/7362437384_e11ca39737_b1-300x225.jpg" alt="" width="300" height="225" />And this was already a very good point: OCamlers are interested in what we have achieved with Haxe. In particular the many targets, and some innovative libraries - i.e. NME. Also the very short part about Silex Labs, and Silex seemed to evoke reactions: communication, production and WYSIWYG surprisingly are words which interest our cousins OCamlers.<br />
“What you said at the end as an aside is precisely what we find complicated.” - <a href="http://starynkevitch.net/Basile/index_en.html">Basile</a>, researcher at <a href="http://www-list.cea0fr">CEA, LIST</a>, working on the famous <a href="http://gcc.gnu.org/">GCC compiler</a> and <a href="http://gcc-melt.org/">MELT</a>.</p>
<p>So we switched from a talk to an open discussion, exposing facts about the amazing job made by the Haxers based on the OCaml work. The fact that the OCaml skills are not common in our community lead us to talk about the possible interactions, about the impact of such interactions, about the actors of the OCaml community, and about the lack of communication between our two worlds.</p>
<p>“We saw Nicolas Cannasse a few years ago, with his great vision. It is great to see that Haxe is not only game oriented anymore... And there are so many targets and nice looking apps, I will definitely try it on my spare time!” - A a student attendee.</p>
<h1 dir="ltr">The OCaml ecosystem</h1>
<p style="text-align: left;">The Haxers there had the chance to talk with active members of the much alive and very discreet OCaml community. We discovered several innovative projects with roots in OCaml.</p>
<p style="text-align: left;"><a href="http://ocsigen.org/js_of_ocaml/"><img src="{{ site.baseurl }}/assets/text_js_of_ocaml_with_shadow.png" alt="" width="330" height="99" /></a></p>
<p>The <a href="http://try.ocamlpro.com/">online demo of the OCaml language</a>, is made by <a href="http://www.ocamlpro.com/">OCaml Pro</a>, a company specialized in OCaml. This online demo loads in the browser, lets you manipulate the javascript dom of the page in OCaml, with the OCaml interpreter compiled in javascript. This is possible because OCaml compiler itself is written in OCaml, and there is a <a href="http://ocsigen.org/js_of_ocaml/">javascript converter of OCaml bytecode, called JS of OCaml</a>.</p>
<p><a href="http://www.ocamlpro.com/"><img class="alignnone" src="{{ site.baseurl }}/assets/ocamlpro.png" alt="" width="169" height="50" /></a> <a href="http://www.mlstate.com/"><img class="alignnone" src="{{ site.baseurl }}/assets/mlstate-logo.png" alt="" width="141" height="51" /></a></p>
<p>A more ambitious project getting famous these times is <a href="http://ocsigen.org/ocsigenserver/">Ocsigen, a web server</a> which serves compiled OCaml code. The client side code and server side code of a module are mixed in in the same file, which let the developers design very natural and logical application architectures. The server also enables a new control of security and validation of web applications, since all HTML inputs and outputs are parsed and validated at runtime.</p>
<p>The Ocsigen project is maintained by <a href="http://www.pps.univ-paris-diderot.fr/~balat/">Vincent Balat</a> with the help of the <a href="http://www.irill.org/">IRILL non profit organization</a> and <a href="http://ocsigen.org/credits">many contributors</a>.</p>
<p>And last but not least, we had the chance to discover <a href="http://opalang.org/">Opa, a platform for writing web applications</a> in a very innovative way. It is close to the Haxe and Ocsigen approach, but the whole platform is a blast.</p>
<p><a href="http://ocsigen.org/ocsigenserver/"><img class="alignnone" src="{{ site.baseurl }}/assets/text_ocsigenserver_with_shadow.png" alt="" width="216" height="75" /></a>  <a href="http://opalang.org/"><img src="{{ site.baseurl }}/assets/opa-cloud-logo-sq.png" alt="" width="98" height="98" /></a></p>
<p>These discoveries have been a blast to us, Haxers unconscious of these initiatives which happen so close to ours, and especially to us, French based developers, with these French born technologies. And we say we have a great product but lack visibility and communication? Now we know that... We are not alone!</p>
<p><img class="alignnone size-full wp-image-133279 aligncenter" title="ET_the_Extra_Terrestrial" src="{{ site.baseurl }}/assets/ET_the_Extra_Terrestrial1.jpg" alt="" width="139" height="164" /></p>
<p>And this is a good news because our fellow OCamlers are very friendly to us.</p>
<h1 dir="ltr">New ideas</h1>
<p style="text-align: left;">So after this epic moment, we have retained several ideas to interact between our two worlds - i.e. Ocaml and Haxe, research and production, public/state and private/corporate.</p>
<h3 dir="ltr">Development matters</h3>
<p>The simplest thing to do right now with Haxe and OCaml communities together, would be to use <a href="http://ocsigen.org/js_of_ocaml/">JS of OCaml</a> to convert the Haxe compiler into javascript. It should be quite straightforward, and it would allow to run the Haxe compiler on the client side... So the <a href="http://try.haxe.org/">try Haxe</a> page could be a standalone HTML page, just like the <a href="http://try.ocamlpro.com/">try OCaml</a> page.</p>
<p><a href="http://caml.inria.fr/"><img class="size-full wp-image-133326 alignleft" style="margin-top: 25px; margin-bottom: 25px;" title="haxe compiler" src="{{ site.baseurl }}/assets/haxe-compiler1.png" alt="" width="73" height="72" /><img class="alignleft" style="border: 25px solid white;" title="convert" src="{{ site.baseurl }}/assets/convert1.png" alt="" width="73" height="58" /><img class="alignnone" style="margin-top: 25px; margin-bottom: 25px;" title="haxejs" src="{{ site.baseurl }}/assets/IconLarge.png" alt="" width="73" height="72" /></a></p>
<p style="text-align: left;">On the other hand, the conversion of OCaml bytecode to Haxe source code is possible. Indeed it is not so complicated since the whole <a href="http://ocsigen.org/js_of_ocaml/">JS of OCaml</a> project was done in under 2 month of programming by a talented OCaml coder (source?).</p>
<p style="text-align: left;"><a href="http://caml.inria.fr/"><img title="Caml" src="{{ site.baseurl }}/assets/logo_caml1.png" alt="" width="179" height="88" /><img style="border: 25px solid white;" title="convert" src="{{ site.baseurl }}/assets/convert1.png" alt="" width="73" height="58" /></a><a href="http://www.haxe.org/"><img title="Haxe" src="{{ site.baseurl }}/assets/haxeblog1.jpg" alt="" width="149" height="90" /></a></p>
<p style="text-align: left;">This would make possible several “crazy” things:</p>
<ul>
<li>convert the OCaml code, libraries and projects in Haxe, which would empower OCaml with as many targets as we have got in Haxe. Plus all the OCaml code out there - mostly research and financial applications, would be translatable to Haxe source code. This could be a motivation for OCaml developers to consider learning Haxe in complement to their current skill set.<br />
<a href="http://caml.inria.fr/"><br />
<img title="Caml" src="{{ site.baseurl }}/assets/logo_caml1.png" alt="" width="179" height="88" /><img style="margin: 25px;" title="convert" src="{{ site.baseurl }}/assets/convert1.png" alt="" width="73" height="58" /><img class="alignnone" title="haxe nme" src="{{ site.baseurl }}/assets/www.haxenme-90x90.png" alt="" width="90" height="90" /><br />
</a></li>
</ul>
<ul>
<li>Since the Haxe compiler itself is written in OCaml, it could be translated in Haxe, which is a great perspective for us, Haxe developers, isn’t it?<br />
<a href="http://caml.inria.fr/"><img style="margin: 25px;" title="haxe compiler" src="{{ site.baseurl }}/assets/haxe-compiler1.png" alt="" width="73" height="72" /><img style="margin-top: 25px; margin-bottom: 25px;" title="convert" src="{{ site.baseurl }}/assets/convert1.png" alt="" width="73" height="58" /></a><a href="http://www.haxe.org/"><img style="margin-top: 12px; margin-bottom: 12px;" title="Haxe" src="{{ site.baseurl }}/assets/haxeblog1.jpg" alt="" width="149" height="90" /></a></li>
</ul>
<ul>
<li>the Haxe compiler could then be compiled to all our targets and become a cross-platform compiler/interpreter to cross-platform languages, for native and web applications - complex apps only since it would probably be heavy, even if <a href="http://try.ocamlpro.com/toplevel.js">the OCaml compiler in javascript</a>weight less than 550KB.<a href="http://caml.inria.fr/"><img style="margin: 25px;" title="haxe compiler" src="{{ site.baseurl }}/assets/haxe-compiler1.png" alt="" width="73" height="72" /><img style="margin: 25px;" title="convert" src="{{ site.baseurl }}/assets/convert1.png" alt="" width="73" height="58" /></a> <a href="http://caml.inria.fr/"><img title="haxe nme" src="{{ site.baseurl }}/assets/www.haxenme-90x90.png" alt="" width="90" height="90" /></a></li>
</ul>
<ul>
<li>the Haxe compiler could probably be compiled in php, java, .net and neko - and maybe nodejs, which may be interesting for hosted solutions and on the fly compilation - this would have an immediate application with Silex v2 and Cocktail to compile Haxe javascript/CSS/HTML applications to native and web applications on the server side<a href="http://caml.inria.fr/"><img class="alignleft" style="margin: 25px;" title="haxe compiler" src="{{ site.baseurl }}/assets/haxe-compiler1.png" alt="" width="73" height="72" /><img class="alignleft" style="margin: 25px;" title="convert" src="{{ site.baseurl }}/assets/convert1.png" alt="" width="73" height="58" /></a><img class="alignleft" style="margin: 25px;" title="dot net" src="{{ site.baseurl }}/assets/Netframework-version-4.png" alt="" width="60" height="56" /><img class="alignleft" style="margin: 25px;" title="php" src="{{ site.baseurl }}/assets/php.png" alt="" width="60" height="31" /><img class="alignnone" style="margin: 25px;" title="java" src="{{ site.baseurl }}/assets/java.jpg" alt="" width="60" height="60" /></li>
</ul>
<p style="text-align: left;">Another work area could be to target OCaml with Haxe source code. This is "just" another target for Haxe. Nobody could really tell how useful that could be... At least if we could find the resources to do that, this would be made by OCaml developers and they would have to create a new Haxe target, which would probably take them to documenting and improving this process.</p>
<p style="text-align: left;"><a href="http://www.haxe.org/"><img title="Haxe" src="{{ site.baseurl }}/assets/haxeblog1.jpg" alt="" width="149" height="90" /></a><a href="http://caml.inria.fr/"><img style="border: 25px solid white;" title="convert" src="{{ site.baseurl }}/assets/convert1.png" alt="" width="73" height="58" /></a><a href="http://caml.inria.fr/"><img title="Caml" src="{{ site.baseurl }}/assets/logo_caml1.png" alt="" width="179" height="88" /></a></p>
<h3 dir="ltr">Language theory and research matters</h3>
<p style="text-align: left;">The idea here is that it seems easier to find funding to back a thesis than to back a development.</p>
<p style="text-align: center;"><img title="research" src="{{ site.baseurl }}/assets/research.gif" alt="" width="192" height="155" /></p>
<p>A PhD student or a researcher would probably be able to do one or more of these tasks as part of a thesis or a research unit</p>
<ul>
<li>audit and documentation of the Haxe compiler and the targets</li>
<li>proposals for evolutions of the compiler to gain in productivity, maintainability, and have an easier learning curve, …</li>
<li>proposals for the evolution of the syntax, the macros, the libraries</li>
<li>proposal to make the implementation of new targets easier and more maintainable</li>
<li>proposal to make Haxe a provable language (source? explanation of this?)</li>
<li>write the specifications of the Haxe language</li>
<li>a comparison of Haxe and OCaml : syntaxes, productivity, maintenability of the applications, learning curve, the organization of the whole projects and communities...</li>
</ul>
<p style="text-align: left;">Please submit ideas and remarks in the comments. <strong>This is probably the most important matter to discuss</strong>, since it is the most likely to occur in the short run.</p>
<h1 dir="ltr">Next steps</h1>
<p style="text-align: left;">As Silex Labs members, we have said that we will help OCaml to communicate - very simply to start, so we planned an interview of two key members of OCaml community, maybe in partnership with a parisan web radio. The goal is to spread the world about OCaml, as well as to introduce the OCaml ecosystem to the Haxe community.</p>
<p style="text-align: left;">To help several OCaml developers to find answers to their questions, we have opened the <a title="The Haxe/OCaml working group, discussions to help OCamlers understand Haxe and Haxers understand OCaml" href="https://www.silexlabs.org/groups/labs/haxe-community-meetings/haxe-ocaml-mix/">"Haxe/OCaml mix" working group</a>, and <strong>we invite volunteer Haxe developers to start a (two way) discussion with them there</strong>.</p>
<p style="text-align: left;">Silex Labs is investing time in networking with OCaml community members, to make several of the ideas explained above to become a reality. We will try to fund a study, a thesis or a development, and make our best in community management in order to start a movement with inertia.</p>
<p style="text-align: left;"><a href="https://www.silexlabs.org/"><img title="Silex Labs logo - white bg" src="{{ site.baseurl }}/assets/logo_silexlabs-gris1.png" alt="Silex Labs, open source projects" width="163" height="122" /></a><a href="http://www.irill.org/"><img title="IRILL Logo" src="{{ site.baseurl }}/assets/Logotype-IRILL1.jpg" alt="" width="287" height="136" /></a><a href="http://www.inria.fr/en/institute/inria-in-brief/inria-in-a-few-words"><img title="logo_INRIA" src="{{ site.baseurl }}/assets/logo_INRIA1-677x295.jpg" alt="" width="244" height="106" /></a></p>
<p style="text-align: left;">And finally, this could lead to several partnerships with Silex Labs, IRILL, Ocsigen, OCaml Pro, ... Who knows?</p>
<h1 dir="ltr">Special thanks</h1>
<p style="text-align: left;">Thank you to</p>
<ul>
<li>IRILL for the invitation</li>
<li>the audience - and especially the enthousiasts Benjamin C., Gregoire H., Denis C., Basile S, Vincent B., Fabrice LF, and the organizers Roberto and Emmanuel who also supervised the meeting</li>
<li>Alex Hoyau for helping with this article and initiating this movement</li>
<li>Raphaël H. for the twitts and pics</li>
<li>Isabelle, Pol, Nicolas, Yannick and Raph for their presence and encouragements</li>
<li>Haxe et OCaml for being such great tools, and making all this possible!</li>
</ul>
