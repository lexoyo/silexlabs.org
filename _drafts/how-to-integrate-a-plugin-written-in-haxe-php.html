---
layout: post
title: How to integrate a plugin written in haXe/PHP
date: 
type: post
parent_id: '0'
published: false
password: ''
status: draft
categories:
- Tutorials Silex
tags: []
meta:
  _epLastError: ''
  _epLastMessage: ''
  _edit_last: '1'
  _itemCurrentVersion: ''
author:
  login: Benjamin
  email: benjamin.dasnois@gmail.com
  display_name: Benjamin
  first_name: ''
  last_name: ''
permalink: "/"
---
<p>Before, when we wanted to integrate a plugin that we had written in haXe/PHP we just had to include the plugin's index.php file (the one generated by haXe) into our own index.php (the one in the plugins folder).</p>
<p>That somehow looked like this:</p>
<div>class htmlGenerator extends plugin_base</div>
<div>{</div>
<div>public function initHooks($hookManager)</div>
<div>{</div>
<div>include(dirname(__FILE__)."/myHaxeGeneratedPlugin/index.php");</div>
<div>}</div>
<div>}</div>
<div>But now, the haXe's index is written in haXe and doing so would result in a redefinition of php_Boot (note that having several haXe/PHP plugins would also have resulted in that).</div>
<div>So, you now need to do that instead:</div>
<div>
<div>php_Lib::loadLib(dirname(__FILE__).'/myHaxeGeneratedPlugin/lib');</div>
<div>org_silex_htmlGenerator_Main::main();</div>
</div>
<div>The first line tells PHP how to look for additional libraries. Note that it points to the "lib" directory that has been generated by the haXe compiler.</div>
<div>The second line simply runs the plugin's main method! (Here it is org.silex.htmlGenerator.Main.main in haXe - classes' names are getting "flattened" by the compiler).</div>
